From f0b2f4ca5a7e368417c9da3590a0df322f7741b1 Mon Sep 17 00:00:00 2001
From: vgdn1942 <vgdn1942@gmail.com>
Date: Sun, 26 Dec 2021 11:17:21 +0300
Subject: [PATCH] Disable F11 key on keyguard off

Change-Id: I1653ede8f1b045d732e6c7c996ee4a23867ffc08
---
 .../java/com/android/server/policy/PhoneWindowManager.java   | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/services/core/java/com/android/server/policy/PhoneWindowManager.java b/services/core/java/com/android/server/policy/PhoneWindowManager.java
index 56b4189f548d..b80f074a8cbd 100644
--- a/services/core/java/com/android/server/policy/PhoneWindowManager.java
+++ b/services/core/java/com/android/server/policy/PhoneWindowManager.java
@@ -3304,6 +3304,11 @@ public class PhoneWindowManager implements WindowManagerPolicy {
                     }
                 }
                 break;
+            case KeyEvent.KEYCODE_F11:
+                if (!keyguardOn()) {
+                    return key_consumed;
+                }
+                break;
         }
 
         if (isValidGlobalKey(keyCode)
-- 
2.20.1

